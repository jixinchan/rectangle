function rectangle(a,e){var t=Number(a),r=Number(e);this.area=function(){return t*r},this.perimeter=function(){return 2*(t+r)}}function valid(a){var e={isOK:!1,reason:""};return""==a?e.reason="不能为空！":/^-?(0|[1-9]\d*)(\.\d*)?([eE][+-])?(\d+)?$/.test(a)?Number(a)<0?e.reason="不能为负！":(e.reason="",e.isOK=!0):e.reason="不是数字！",e}$(function(){var t=$("#width"),r=$("#length"),a=$("#caculate"),n=$("#area"),i=$("#perimeter"),l=$("#width-validation"),o=$("#length-validation");a.click(function(){var a=t.val();if(""===r.val()&&o.html("高度不能为空！"),""!==a){var e=new rectangle(t.val(),r.val());n.val(e.area()),i.val(e.perimeter())}else l.html("宽度不能为空！")}),r.focusout(function(){var a=valid(r.val());a.isOK?o.html(""):o.html("长度"+a.reason)}),t.focusout(function(){var a=valid(t.val());a.isOK?l.html(""):l.html("宽度"+a.resaon)})});